class Label < ApplicationRecord
  include AASM

  validates_presence_of :name, :position

  aasm column: :status

  aasm do
    state :created, initial: true
    state :printed, :scanned

    event :print do
      transitions from: :created, to: :printed
    end

    event :scan do
      transitions from: :printed, to: :scanned
    end
  end

  def zpl
    Label.zpl(id, name, position)
  end

  class << self
    def zpl(id, name, position)
      <<-eos
        ^XA
        ^FO15,15^BQN,2,6^FDID-#{id}^FS
        ^CF0,50
        ^FO160,30^FDHello, my name is:^FS
        ^CF0,120
        ^FO160,90^FD#{name}^FS
        ^CF0,50
        ^FO15,210^FDTitle: #{position}^FS
        ^FO600,30^GFA,3200,3200,20,,#{[zebra, tiger, elephant].sample}^FS
        ^XZ
      eos
    end

    def zebra
      <<-eos
        :::::::::::::::::L04,L0C,:L0D48,L0EFF8,K03F7FF,K07FBFF8,J01FFBFFE,J03FFDIF,J07LFC,J0IF7IFC,I01IF3JF,I01IF1DDF78,I03IF1DDE7C,I03IF9D9CFE,I07JFCB8FF8,I07F9DFE38FCC,I03F398631F8E,I03F73C631F8F,J0CE6C761F1F8,I01BC6E363E1FC,I037E6E3E3E3FE,I03FF6E1E3C3FB,I06FE6F1C7C7F18,I05FE4D1C787F1C,I0D9CCD8C787E1E,I0B00CC8CF8FC3E,001E338C80F0FC7E,003E7F8C01F0F87CR07C,003CFF8401F1F87CP01FE01FF,0078E18601E1F0FC8N01FF80JF,00F9C18603E3F0F82M0F9FE07JFA,01F3818607E3E1F81CJ0383BFC1KFC,01E301871FC3E1F01F9FC1F873F07IFC044,03C619C71FC7E1F00F07C1F077E0FFEJ06,07CC79C33F87C3F00F07C1F07FC1FFK03,0798FCC7FF87C3E00F07C1F07F83F8I03FE4,0F33FCE7FF8FC3E00F07C1F07F07EI0JF6,0F67IF7FF0F87E10F07C1F07E0FC007KF,1F8E1KF0F87C10F07C1F07E1F803IF006,1F9C3KF9F07C30F87C1F07C3F01IFE,1F783FF3FFDF0FC30F87C1F07C3E03LFCC,1FE0FF807IF0F830F87C1F07C7C0NFE,1JFC003IF1F830F87C1F07C781FFI07FFE,1JFI01FFE1F870F87C1F078F03F8J07FC,1IFEI01FFE1F870F87C1F078F07EL0F9,1IFCJ0FFC3F070F87C1F078F0F8L0338,1IF8J0FFC3F0F0F87C1F078E1FN0FC,0IFK07FC7F0F0F87C1F078E1E007IF00FC,0FFEK03FE7E0F0F87C1F079E3C0LF87C,07FEK03FEFE0E0F87C1F079F783LFE7E,01F8K01IFC1E1F87C1F079FF8MFE7E,006M0IF81E1F87C1F079FF0MFE7E,P0IF83C1F83C0F879FF1EJ0FFE7F,P07FF07C3F83C0F879FE38K0FC7F,P03FF0783F83E0F879FE3L01C7F,P01FF0F87FC3E0F879FE6M047F,Q0FF9F07FC3E0F879FE400EJ047F,Q07FBE0FFC3E07C7BFEC0IFE0047F8Q07FFE1F3C3E07C7BFF83JFC007F8Q03FFC1E3C3F07C7IF87KF807F8Q03FF83C3E3F07C7IF8E00IFE07F8Q03FF07C1E1F07E3IF98I07FF87F8Q01FE0F81E1F07E3IFBK0FF87F8Q01FC1F19E1F03E3JFK03F87F8Q01F83C1DE1F03E3IFE01F01FF07F8Q01F8783CE1F83KFE0LF0FF8Q01F9F07CF1F83KFE3LF0FF,Q01FFE0FCF5F83KFE7LF0FF,Q01FFC1DCFDF83RFE0FF,R0FFC7DCIF83MF8L0FF,R0FF8F9CIF83LFEK020FF,R0JF1DNFE1FCK020FF,R0IFE1DNF81FC07IFE0FE,R07FFC3NFE01MFE0FE,R07RF800MFE1FE,R03QFEI0MFE1FC,R03QF8I0MFE1F8,R01PFCJ07FC001FE1F8,S0PFK07FCJ021F8,S0OF8K07FEJ021F,S078LF8L03KF821F,S07KFCN03LFE1E,S07JF8O01LFE1C,:S03JF8O01LFE1C,S03JF8P0IFEIF18,S03JF8P0IF800118,S030IF8P07IFEF118,S0303FFCP03LF18,S0300FFCP03LF18,S01007FCP01LF08,S01007FCP01JFE388,S01JFCQ0IFCI08,S01JFCQ0IFCI0C,T0JFCQ07FFCI04,T0JFCQ07KFC4,T0JFEQ03KFC,T0E0FFEQ03KFC,T0607FEQ03KFC,T07IFEQ01FF7FFC,T07JFQ03FE3FF8,T07FDFFQ03FE3FF8,T07FDFFQ03FC3FF,T07FDFF8P07FC3FF,T07FCFF8P07F81FF,T07FCFF8P0FF83FF,T07FCFF8P0FF03FE,T07F87FP01FF03FE,T07F87FP01FE03FE,T07F87FP03FE03FC,T07F83F8O03FC03FC,T03F83F8O07FC03FC,T03F01F8O07F807FC,T03F01F8O0FF807F8,T03F01FCO0FF807F8,T03F01FCN01FF007F8,T03F00FCN01FF00FF8,T03F00FCN03FF00FF8,T03F00FEN03FE00FF,T03F00FEN07FE01FF,T07F80FFN0FFC01FF,T07F80FFM01FFC01FF,T07F80FFM03FFC03FF,T0FF81FFM07FF807FF,T0FF83FFM0FFE00FFE,S03FF07FEL01FF800FFE,S07FE0FF8L01DF001FF8,S0FF80FF8L03FF003FF,R01FF81FF8L03FF007BE,R01FF01FFM07FE007BE,R03FF00FEM07FC007FE,R03FEV0FFE,R03FCV0FFE,gQ03E,,::::::
      eos
    end

    def tiger
      <<-eos
        ::::::::::::::::::::::::::::::::::::::::::::::::::::K01C,J0A7E,I0197F,I018FF,I01CFF,I018FF8,K0FF8,I060FF8,I0C0E78,00106639,002046381,00488C1E00C,00591C03003C,00901E11801C8,J03701C00F1,0207E380E0038EQ060C3,033FC1C270018E4N01200C038,03F704C13801C604K018020060308,037E1E61DCA1C703E003860020060307,01FE7E20FFC5C30180180600300603022,04FEE230IF9C381801806003007018308,01DCE21077FDE38180180600300701818,0980E3187FDCE380C0180600380380C081,1109E1083FDCE3C0C01C0600183BDCE04,031981083FEC03D0C01C06001E7BFF702,221B018C3FEC01F8E01C06040F7BIF81,4410030C3FAC01DCE01C06060KFBC181,0CI0C0C3F8E01FE601C060607JF9E0C,3800180C3FCE01FE601C660607JF0E0E08,FI0300C3F8E01FE6018660707JF878708,7I0201C3F8E01FE6018620707IFDC3C38C,6K0FC1F0C01FF601862070JFCC1C9CC,K07C01F8C03FF6218E2071JFCC0E1CE,J01C003F0C03DF6618E00F9JFCE077EE,I078I03E0C039F6618E00F9JFC607BFC,07FFC3FE3E1C039FE630E00F8JFC6039DE,07FFCJFE18070FE630E00F9JFC603DFE,03MFC38071FE730E00F9JFC601CFF,03FF80IF470061FE730F00LFC601EF9,01FC001FFC600E1FE738F00LF8700FF1,006J0FF8E00C1FEF38F00LF8608FF9,M07F9C00C1FE7B8F007KF87187F9,M07FB801C1FF798F817KF87187FD,M07FB00181FF798F85BKF07183FD,M03FF00383FF7DC7NF061C1FF,M03FE00303FFBDD7JFDIF0E1C7FF,M03FE00303FFBCB3IFCCIF0E1C7FF,M03FE00707DFFEFBIFECDFF0E1CIF,M01FF007079FDEFDFF8EC1FE1E1E77D,M01FF80E079JFDD3CFC1FF1C1E773,N0FFC0E0FBJFDC3CFC0FF1C0F36F,N0FFC0E0FBJF1C1C9F07FBC0F37F,N0FFE1C1FBIF00C1C7FE7FB80737F,N0FFE1C1F7FC70081CLF807E7F,N07FF1C1F7DC73001CLF007E79,N07FF381F70C33001MF00FE6F,N07FF383F70C39803LFE1FFE7F,N07FF383F7043980MFE7FFE7F,N07FFB83FEI01C3FF07IFEF8067F,N07IF83EEI01DFF81KFEI07C,N07IF83EEI01FFE01KF8I06,N01IF89FF803IF001KF8I04,O0IF8DIF7IF8001KFEI04,N08IFD0LFCI01KFE00E4,O0JF87JFCJ01LF07E01,M010JF83IFCK01LF3FE0F0078O0JF83CO03KF7FE1F807CM020JF83CN013LF813E00FEO0JF834O03LF003C00FEN07JF03CO0IFD7FE0018007EM083JF82CO0IFC3FE001I07!N03FF9F008O0IFC1FF80102061N03FF1F018P0FFE1FF80C06001L0203FF1F078O04FFE0FFC3E8F,N07FC1E0F8O04FFC07FCFE1F1C,N0FF81E0E8P0FF903IF83F0C2L080FF01E058P0FF903FFC03F0E,M01FE00F038O03FF801FF81360F4K0107F800F068O03FF800FFC1160F8M07FI0F0D8O02FF9007FE1060F,L0FFCI0F0F8P07F8003FF801EC,K07FF8I0F9F8P07F8001FF8,K0IFJ0IFQ07F2001FF,K07FFJ0IFP027FJ0FE,K0FFEJ0IFP02FEJ0FF,K0FFEJ0IFP02FE8I07F3,J01FFEJ0IFQ0FEJ07FF,J01FFEJ0IFP01FDJ07FF,J03FFEJ0IFP05F8J03FF,J03FFCJ0IFP05F8J03FB,J01FF8J0FFEP0BFCJ03FF,J01FFK0FFEO03FFK07FE,J01FEJ01FFCN010FE8J0FFE,K098J031F8P0FDI033FFE,P07E1F8N07FFEI0311FC,P0C01F8N07FFCI0621FC,O01983F8N07FF8I07F7F8,O01JFO07FFJ07IF,O01IFEV07FFE,P0IFC,,::::::
      eos
    end

    def elephant
      <<-eos
        ::::::::::::::::::::::::V0606,U04,T03J02,U07I01,S013E,S04FE,S01FE,R027FE,S0FFEJ04,Q013FFC,Q027FF8,Q04IF8,P0F1IF8,N03003IFK08,M01I07FFE,M0CI0IFE,L01I01IFE,L04I03IFC,L08I03IFC,K01J07IFCJ04,K02J07IFC,K04J07IF8,K08J0JFK08,P0IF8K08,J01K0IFL08,P0FFEL078,J02K0FFCL07FFC,J04K0FFM07I01MF,J04K0FEM04Q078,P0FCM0CR06,J0878I078M08R018,K0FCI07M01T06,I011FEQ03T03,I013EEQ0EU08,J03FEP01EU04,I023FEP07CU02,I021FEP0FCU01,J01FCP0FCU01,K0F8O01FCV08,I04R01F8V0C,I04R01F8V04,V03F8V06,V03F8V02,I08R07F8V03,I08R07FW01,K01P0FFW01,K03O01FFW018,001006O03FFW038,00100EO03FEW078,00100C0787K07FEW078,J01C0IFK0FFEW07C,J01C0IF8I01FFEW07C,J03E1IF8I03FFCW0FC,00203E7IFCI07FFEW0FC,00203C3IFCI0IFCW0FC,0020381IFE003IFEV01FE,0020383JF00JFE1FT01FE,0020383F80PFCS03FE,0020307C003OFES03FE,0020307I01PFS07FE,0020306J07OF8R0F9E,002020EJ03KF7IF8Q01F9F,002020CJ01JFE3IFCQ03F9F,0020418K0JFC3IFCQ07F8F,0020418K07IF83IFE01FN0FF8F,002003L03IF03JF01F8L01FF8F,002003L03FFE07JF03FCL03FF8F,K06L03FFC0KF83FCL07FF8F,001006L01FFC1NFEL07FF8F,00100EL01FF81NFEL0IF87,00101EL01FF83OFK01IF87,I083EM0FF03OFK01IF87,I083EM0FF03OF8J03IF87,J05E002J0FE03OF8J03IF87,J09E00FJ0FE03OF8J07IF878,I030E00F8I0FE03OFCJ0JF878,I060E00F8I0FC03OFCJ0JF878,00130F00F8I0FC03OFCI01JF878,00630700D8I0FC07OFEI01JF878,01010781D8I0F807OFEI03JF878,I01838198I0F807OFEI07JF878,J0C3C398001F80QFI0KF838,J0C1E73I01F00QFI0KF838,J060FE3I03F00QF001KF838,J0307C6I03F01QF003KF838,J01800EI03F01IFEMF803KF87C,K0E01CI07E03IFE3LF807KF87C,K07878I07E0JFE0LF80LF8FE,K01FFJ0FE7JFE01KF80LF8FE,L038J0MFE001JF80LF8FE,Q01MFEL0380LF8FE,Q01MFEL0381LFDFF,Q03MFEL0381LFCFE,Q03NFL0381FF7IFCFE,Q07NFL0383FF3IFCFE,Q07NFL0387FE3IFCFE,Q0JFCJFL03DFFE1IFCFE,Q0JF8JFL03IFC0IFC7E,Q0IFE07IFL03IFC0IFE7C,P01IFE07IFL03IF807FFE3C,:P01IFE07IF8K03IF807FFE18,P01JF03IF8K03BFF803IF0C,P01JF83IF8K033FF803IF0C,Q0JFC3IF8K033FF803IF,Q0JFE3IFCK033FF003IF8,Q07JF1IFCK033FF003IF8,Q03JF1IFCK023FF001IF8,Q03JF1IFEK023FF001IF8,Q01JF1IFEK023FF001IF8,R0IFE0IFEK023FF001IF8,R07FFE0IFEK063FE001IF8,R03FFE0IFEK063FE001IF8,R01FBC0IFEK043FF001IF8,S0F1807FFEK043FF001IF,S07I07FFEK083FE001FFE,S01C003FFCK083FE001878,W023F8L03FEI086,X01EM03FCI02,X038L081F,gM01E,,:::::::::::::
      eos
    end
  end
end
